"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["node_modules_arcgis_map-components_dist_esm_arcgis-version-management-version-item_2_entry_js"],{

/***/ "./node_modules/@arcgis/map-components/dist/esm/arcgis-version-management-version-item_2.entry.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/esm/arcgis-version-management-version-item_2.entry.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_version_management_version_item: () => (/* binding */ ArcgisVersionManagementVersionItem),
/* harmony export */   arcgis_version_management_version_list: () => (/* binding */ ArcgisVersionManagementVersionList)
/* harmony export */ });
/* harmony import */ var _index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-6e172aac.js */ "./node_modules/@arcgis/map-components/dist/esm/index-6e172aac.js");
/* harmony import */ var _index_0bc55ca5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-0bc55ca5.js */ "./node_modules/@arcgis/map-components/dist/esm/index-0bc55ca5.js");
/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.30/esri/copyright.txt for details.
 * v4.30.0-next.37
 */



const ArcgisVersionManagementVersionItem = class {
    constructor(hostRef) {
        (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.versionItemActionClickedEvent = (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "versionItemActionClickedEvent", 7);
        this.strings = undefined;
        this.hasAdvEditingUte = undefined;
        this.isVersioningApiAvailable = undefined;
        this.versionInfo = undefined;
    }
    render() {
        const { strings: { actions }, versionInfo, } = this;
        const fullVersionName = versionInfo.versionIdentifier.name;
        const guid = versionInfo.versionIdentifier.guid;
        const actionElementId = `actionSwitchToVersion_${guid}`;
        return ((0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.H, null, (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-list-item", { description: fullVersionName.split(".")[0], label: fullVersionName.split(".")[1], value: guid }, (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-action", { id: actionElementId, icon: "switch", text: "", onClick: () => {
                this.versionItemActionClickedEvent.emit({ actionType: "changeVersion", versionInfo });
            }, slot: "actions-start" }), (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tooltip", { "overlay-positioning": "fixed", referenceElement: actionElementId }, (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", null, actions.switchToVersion)), (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-action-menu", { "overlay-positioning": "fixed", slot: "actions-end", label: "" }, (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-action", { icon: "switch", onClick: () => {
                this.versionItemActionClickedEvent.emit({ actionType: "changeVersion", versionInfo });
            }, scale: "s", text: actions.switchToVersion, textEnabled: true }), (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-action", { disabled: fullVersionName.toUpperCase() === "SDE.DEFAULT" ||
                !this.hasAdvEditingUte ||
                !this.isVersioningApiAvailable, icon: "edit-attributes", onClick: () => {
                this.versionItemActionClickedEvent.emit({ actionType: "editVersion", versionInfo });
            }, scale: "s", text: actions.editVersion, textEnabled: true })))));
    }
    get _hostElement() { return (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.g)(this); }
};

const ArcgisVersionManagementVersionList = class {
    constructor(hostRef) {
        (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.versionItemActionClickedEventWithServiceUrl = (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "versionItemActionClickedEventWithServiceUrl", 7);
        this.versionListActionClickedEvent = (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "versionListActionClickedEvent", 7);
        this._watchHandles = [];
        this.heading = undefined;
        this.serviceName = undefined;
        this.serviceUrl = undefined;
        this.strings = undefined;
        this.userHasAdvancedEditingUserTypeExtension = undefined;
        this.versionInfos = undefined;
        this.viewModel = undefined;
        this.state = undefined;
    }
    async componentDidLoad() {
        const { watch } = await (0,_index_0bc55ca5_js__WEBPACK_IMPORTED_MODULE_1__.i)();
        this._watchHandles.push(watch(() => this.versionInfos, (versionInfos) => {
            this.versionInfos = versionInfos;
        }), watch(() => this.viewModel.state, (state) => {
            this.state = state;
        }));
    }
    async componentWillLoad() {
        this.state = this.viewModel.state;
    }
    disconnectedCallback() {
        this._watchHandles.forEach((handle) => {
            handle.remove();
        });
        this._watchHandles = [];
    }
    render() {
        const { heading, serviceName, serviceUrl, state, strings, versionInfos, viewModel } = this;
        // @ts-ignore
        const currentVersionIdentifier = viewModel.versionIdentifierLookup.get(serviceUrl);
        return ((0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.H, null, (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-flow-item", { heading: heading, description: serviceName }, currentVersionIdentifier ? ((0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-panel", { disabled: state === "executing", class: "panel-versions", heading: "Current version", description: currentVersionIdentifier.name })) : undefined, (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-panel", { loading: state === "executing", class: "panel-versions", heading: versionInfos.length
                ? `${strings.headers.manageVersions} (${versionInfos.length})`
                : strings.headers.manageVersions }, (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-action", { id: "actionRefreshVersions", icon: "refresh", text: "", onClick: () => {
                this.versionListActionClickedEvent.emit({
                    actionType: "refreshVersions",
                    serviceUrl,
                });
            }, slot: "header-actions-end" }), (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tooltip", { "overlay-positioning": "fixed", referenceElement: "actionRefreshVersions" }, (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", null, strings.actions.refreshVersions)), (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-list", { class: "version-list", filterEnabled: true }, versionInfos.map((versionInfo) => ((0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-version-management-version-item", { strings: strings, hasAdvEditingUte: viewModel.advancedEditingUserTypeExtensionLookup.get(serviceUrl), isVersioningApiAvailable: (viewModel.serverVersionLookup.get(serviceUrl) ?? 0) >= 11.2, versionInfo: versionInfo, onVersionItemActionClickedEvent: (e) => {
                this.versionItemActionClickedEventWithServiceUrl.emit({ ...e.detail, serviceUrl });
            } })))), (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-fab", { appearance: "outline-fill", slot: "fab", textEnabled: true, text: strings.actions.newVersion, onClick: () => {
                this.versionListActionClickedEvent.emit({
                    actionType: "newVersion",
                    serviceUrl,
                });
            } })))));
    }
    get _hostElement() { return (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.g)(this); }
};




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3Mvbm9kZV9tb2R1bGVzX2FyY2dpc19tYXAtY29tcG9uZW50c19kaXN0X2VzbV9hcmNnaXMtdmVyc2lvbi1tYW5hZ2VtZW50LXZlcnNpb24taXRlbV8yX2VudHJ5X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzZHO0FBQzFDOztBQUVuRTtBQUNBO0FBQ0EsUUFBUSxxREFBZ0I7QUFDeEIsNkNBQTZDLHFEQUFXO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixXQUFXLFNBQVMsaUJBQWlCO0FBQ3JEO0FBQ0E7QUFDQSx5REFBeUQsS0FBSztBQUM5RCxnQkFBZ0IscURBQUMsQ0FBQyxpREFBSSxRQUFRLHFEQUFDLHdCQUF3QiwrRkFBK0YsRUFBRSxxREFBQyxxQkFBcUI7QUFDOUssMERBQTBELDBDQUEwQztBQUNwRyxhQUFhLHlCQUF5QixHQUFHLHFEQUFDLHNCQUFzQixtRUFBbUUsRUFBRSxxREFBQywwQ0FBMEMscURBQUMsMEJBQTBCLGdFQUFnRSxFQUFFLHFEQUFDLHFCQUFxQjtBQUNuUywwREFBMEQsMENBQTBDO0FBQ3BHLGFBQWEsZ0VBQWdFLEdBQUcscURBQUMscUJBQXFCO0FBQ3RHO0FBQ0E7QUFDQSwwREFBMEQsd0NBQXdDO0FBQ2xHLGFBQWEsNERBQTREO0FBQ3pFO0FBQ0EseUJBQXlCLE9BQU8scURBQVU7QUFDMUM7O0FBRUE7QUFDQTtBQUNBLFFBQVEscURBQWdCO0FBQ3hCLDJEQUEyRCxxREFBVztBQUN0RSw2Q0FBNkMscURBQVc7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRLFFBQVEscURBQXVCO0FBQ3ZEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDRFQUE0RTtBQUM1RjtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFDLENBQUMsaURBQUksUUFBUSxxREFBQyx3QkFBd0IsNENBQTRDLDhCQUE4QixxREFBQyxvQkFBb0Isa0lBQWtJLGdCQUFnQixxREFBQyxvQkFBb0I7QUFDN1QscUJBQXFCLGdDQUFnQyxHQUFHLG9CQUFvQjtBQUM1RSxrREFBa0QsRUFBRSxxREFBQyxxQkFBcUI7QUFDMUU7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWEsOEJBQThCLEdBQUcscURBQUMsc0JBQXNCLDJFQUEyRSxFQUFFLHFEQUFDLGtEQUFrRCxxREFBQyxtQkFBbUIsNENBQTRDLHFDQUFxQyxxREFBQyw2Q0FBNkM7QUFDeFYsd0VBQXdFLHlCQUF5QjtBQUNqRyxlQUFlLE1BQU0scURBQUMsa0JBQWtCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixlQUFlO0FBQ2Y7QUFDQSx5QkFBeUIsT0FBTyxxREFBVTtBQUMxQzs7QUFFc0siLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvbWFwLWNvbXBvbmVudHMvZGlzdC9lc20vYXJjZ2lzLXZlcnNpb24tbWFuYWdlbWVudC12ZXJzaW9uLWl0ZW1fMi5lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRXNyaSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiBTZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzAvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuICogdjQuMzAuMC1uZXh0LjM3XG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgaCwgSCBhcyBIb3N0LCBnIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LTZlMTcyYWFjLmpzJztcbmltcG9ydCB7IGkgYXMgaW1wb3J0Q29yZVJlYWN0aXZlVXRpbHMgfSBmcm9tICcuL2luZGV4LTBiYzU1Y2E1LmpzJztcblxuY29uc3QgQXJjZ2lzVmVyc2lvbk1hbmFnZW1lbnRWZXJzaW9uSXRlbSA9IGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgICAgIHRoaXMudmVyc2lvbkl0ZW1BY3Rpb25DbGlja2VkRXZlbnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZlcnNpb25JdGVtQWN0aW9uQ2xpY2tlZEV2ZW50XCIsIDcpO1xuICAgICAgICB0aGlzLnN0cmluZ3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGFzQWR2RWRpdGluZ1V0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pc1ZlcnNpb25pbmdBcGlBdmFpbGFibGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudmVyc2lvbkluZm8gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBzdHJpbmdzOiB7IGFjdGlvbnMgfSwgdmVyc2lvbkluZm8sIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBmdWxsVmVyc2lvbk5hbWUgPSB2ZXJzaW9uSW5mby52ZXJzaW9uSWRlbnRpZmllci5uYW1lO1xuICAgICAgICBjb25zdCBndWlkID0gdmVyc2lvbkluZm8udmVyc2lvbklkZW50aWZpZXIuZ3VpZDtcbiAgICAgICAgY29uc3QgYWN0aW9uRWxlbWVudElkID0gYGFjdGlvblN3aXRjaFRvVmVyc2lvbl8ke2d1aWR9YDtcbiAgICAgICAgcmV0dXJuIChoKEhvc3QsIG51bGwsIGgoXCJjYWxjaXRlLWxpc3QtaXRlbVwiLCB7IGRlc2NyaXB0aW9uOiBmdWxsVmVyc2lvbk5hbWUuc3BsaXQoXCIuXCIpWzBdLCBsYWJlbDogZnVsbFZlcnNpb25OYW1lLnNwbGl0KFwiLlwiKVsxXSwgdmFsdWU6IGd1aWQgfSwgaChcImNhbGNpdGUtYWN0aW9uXCIsIHsgaWQ6IGFjdGlvbkVsZW1lbnRJZCwgaWNvbjogXCJzd2l0Y2hcIiwgdGV4dDogXCJcIiwgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmVyc2lvbkl0ZW1BY3Rpb25DbGlja2VkRXZlbnQuZW1pdCh7IGFjdGlvblR5cGU6IFwiY2hhbmdlVmVyc2lvblwiLCB2ZXJzaW9uSW5mbyB9KTtcbiAgICAgICAgICAgIH0sIHNsb3Q6IFwiYWN0aW9ucy1zdGFydFwiIH0pLCBoKFwiY2FsY2l0ZS10b29sdGlwXCIsIHsgXCJvdmVybGF5LXBvc2l0aW9uaW5nXCI6IFwiZml4ZWRcIiwgcmVmZXJlbmNlRWxlbWVudDogYWN0aW9uRWxlbWVudElkIH0sIGgoXCJzcGFuXCIsIG51bGwsIGFjdGlvbnMuc3dpdGNoVG9WZXJzaW9uKSksIGgoXCJjYWxjaXRlLWFjdGlvbi1tZW51XCIsIHsgXCJvdmVybGF5LXBvc2l0aW9uaW5nXCI6IFwiZml4ZWRcIiwgc2xvdDogXCJhY3Rpb25zLWVuZFwiLCBsYWJlbDogXCJcIiB9LCBoKFwiY2FsY2l0ZS1hY3Rpb25cIiwgeyBpY29uOiBcInN3aXRjaFwiLCBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJzaW9uSXRlbUFjdGlvbkNsaWNrZWRFdmVudC5lbWl0KHsgYWN0aW9uVHlwZTogXCJjaGFuZ2VWZXJzaW9uXCIsIHZlcnNpb25JbmZvIH0pO1xuICAgICAgICAgICAgfSwgc2NhbGU6IFwic1wiLCB0ZXh0OiBhY3Rpb25zLnN3aXRjaFRvVmVyc2lvbiwgdGV4dEVuYWJsZWQ6IHRydWUgfSksIGgoXCJjYWxjaXRlLWFjdGlvblwiLCB7IGRpc2FibGVkOiBmdWxsVmVyc2lvbk5hbWUudG9VcHBlckNhc2UoKSA9PT0gXCJTREUuREVGQVVMVFwiIHx8XG4gICAgICAgICAgICAgICAgIXRoaXMuaGFzQWR2RWRpdGluZ1V0ZSB8fFxuICAgICAgICAgICAgICAgICF0aGlzLmlzVmVyc2lvbmluZ0FwaUF2YWlsYWJsZSwgaWNvbjogXCJlZGl0LWF0dHJpYnV0ZXNcIiwgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmVyc2lvbkl0ZW1BY3Rpb25DbGlja2VkRXZlbnQuZW1pdCh7IGFjdGlvblR5cGU6IFwiZWRpdFZlcnNpb25cIiwgdmVyc2lvbkluZm8gfSk7XG4gICAgICAgICAgICB9LCBzY2FsZTogXCJzXCIsIHRleHQ6IGFjdGlvbnMuZWRpdFZlcnNpb24sIHRleHRFbmFibGVkOiB0cnVlIH0pKSkpKTtcbiAgICB9XG4gICAgZ2V0IF9ob3N0RWxlbWVudCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbn07XG5cbmNvbnN0IEFyY2dpc1ZlcnNpb25NYW5hZ2VtZW50VmVyc2lvbkxpc3QgPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgICAgICB0aGlzLnZlcnNpb25JdGVtQWN0aW9uQ2xpY2tlZEV2ZW50V2l0aFNlcnZpY2VVcmwgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZlcnNpb25JdGVtQWN0aW9uQ2xpY2tlZEV2ZW50V2l0aFNlcnZpY2VVcmxcIiwgNyk7XG4gICAgICAgIHRoaXMudmVyc2lvbkxpc3RBY3Rpb25DbGlja2VkRXZlbnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZlcnNpb25MaXN0QWN0aW9uQ2xpY2tlZEV2ZW50XCIsIDcpO1xuICAgICAgICB0aGlzLl93YXRjaEhhbmRsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5oZWFkaW5nID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNlcnZpY2VOYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNlcnZpY2VVcmwgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RyaW5ncyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy51c2VySGFzQWR2YW5jZWRFZGl0aW5nVXNlclR5cGVFeHRlbnNpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudmVyc2lvbkluZm9zID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnZpZXdNb2RlbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgYXN5bmMgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICAgICAgY29uc3QgeyB3YXRjaCB9ID0gYXdhaXQgaW1wb3J0Q29yZVJlYWN0aXZlVXRpbHMoKTtcbiAgICAgICAgdGhpcy5fd2F0Y2hIYW5kbGVzLnB1c2god2F0Y2goKCkgPT4gdGhpcy52ZXJzaW9uSW5mb3MsICh2ZXJzaW9uSW5mb3MpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmVyc2lvbkluZm9zID0gdmVyc2lvbkluZm9zO1xuICAgICAgICB9KSwgd2F0Y2goKCkgPT4gdGhpcy52aWV3TW9kZWwuc3RhdGUsIChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFzeW5jIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy52aWV3TW9kZWwuc3RhdGU7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLl93YXRjaEhhbmRsZXMuZm9yRWFjaCgoaGFuZGxlKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGUucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl93YXRjaEhhbmRsZXMgPSBbXTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IGhlYWRpbmcsIHNlcnZpY2VOYW1lLCBzZXJ2aWNlVXJsLCBzdGF0ZSwgc3RyaW5ncywgdmVyc2lvbkluZm9zLCB2aWV3TW9kZWwgfSA9IHRoaXM7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgY3VycmVudFZlcnNpb25JZGVudGlmaWVyID0gdmlld01vZGVsLnZlcnNpb25JZGVudGlmaWVyTG9va3VwLmdldChzZXJ2aWNlVXJsKTtcbiAgICAgICAgcmV0dXJuIChoKEhvc3QsIG51bGwsIGgoXCJjYWxjaXRlLWZsb3ctaXRlbVwiLCB7IGhlYWRpbmc6IGhlYWRpbmcsIGRlc2NyaXB0aW9uOiBzZXJ2aWNlTmFtZSB9LCBjdXJyZW50VmVyc2lvbklkZW50aWZpZXIgPyAoaChcImNhbGNpdGUtcGFuZWxcIiwgeyBkaXNhYmxlZDogc3RhdGUgPT09IFwiZXhlY3V0aW5nXCIsIGNsYXNzOiBcInBhbmVsLXZlcnNpb25zXCIsIGhlYWRpbmc6IFwiQ3VycmVudCB2ZXJzaW9uXCIsIGRlc2NyaXB0aW9uOiBjdXJyZW50VmVyc2lvbklkZW50aWZpZXIubmFtZSB9KSkgOiB1bmRlZmluZWQsIGgoXCJjYWxjaXRlLXBhbmVsXCIsIHsgbG9hZGluZzogc3RhdGUgPT09IFwiZXhlY3V0aW5nXCIsIGNsYXNzOiBcInBhbmVsLXZlcnNpb25zXCIsIGhlYWRpbmc6IHZlcnNpb25JbmZvcy5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IGAke3N0cmluZ3MuaGVhZGVycy5tYW5hZ2VWZXJzaW9uc30gKCR7dmVyc2lvbkluZm9zLmxlbmd0aH0pYFxuICAgICAgICAgICAgICAgIDogc3RyaW5ncy5oZWFkZXJzLm1hbmFnZVZlcnNpb25zIH0sIGgoXCJjYWxjaXRlLWFjdGlvblwiLCB7IGlkOiBcImFjdGlvblJlZnJlc2hWZXJzaW9uc1wiLCBpY29uOiBcInJlZnJlc2hcIiwgdGV4dDogXCJcIiwgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmVyc2lvbkxpc3RBY3Rpb25DbGlja2VkRXZlbnQuZW1pdCh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblR5cGU6IFwicmVmcmVzaFZlcnNpb25zXCIsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VVcmwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBzbG90OiBcImhlYWRlci1hY3Rpb25zLWVuZFwiIH0pLCBoKFwiY2FsY2l0ZS10b29sdGlwXCIsIHsgXCJvdmVybGF5LXBvc2l0aW9uaW5nXCI6IFwiZml4ZWRcIiwgcmVmZXJlbmNlRWxlbWVudDogXCJhY3Rpb25SZWZyZXNoVmVyc2lvbnNcIiB9LCBoKFwic3BhblwiLCBudWxsLCBzdHJpbmdzLmFjdGlvbnMucmVmcmVzaFZlcnNpb25zKSksIGgoXCJjYWxjaXRlLWxpc3RcIiwgeyBjbGFzczogXCJ2ZXJzaW9uLWxpc3RcIiwgZmlsdGVyRW5hYmxlZDogdHJ1ZSB9LCB2ZXJzaW9uSW5mb3MubWFwKCh2ZXJzaW9uSW5mbykgPT4gKGgoXCJhcmNnaXMtdmVyc2lvbi1tYW5hZ2VtZW50LXZlcnNpb24taXRlbVwiLCB7IHN0cmluZ3M6IHN0cmluZ3MsIGhhc0FkdkVkaXRpbmdVdGU6IHZpZXdNb2RlbC5hZHZhbmNlZEVkaXRpbmdVc2VyVHlwZUV4dGVuc2lvbkxvb2t1cC5nZXQoc2VydmljZVVybCksIGlzVmVyc2lvbmluZ0FwaUF2YWlsYWJsZTogKHZpZXdNb2RlbC5zZXJ2ZXJWZXJzaW9uTG9va3VwLmdldChzZXJ2aWNlVXJsKSA/PyAwKSA+PSAxMS4yLCB2ZXJzaW9uSW5mbzogdmVyc2lvbkluZm8sIG9uVmVyc2lvbkl0ZW1BY3Rpb25DbGlja2VkRXZlbnQ6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJzaW9uSXRlbUFjdGlvbkNsaWNrZWRFdmVudFdpdGhTZXJ2aWNlVXJsLmVtaXQoeyAuLi5lLmRldGFpbCwgc2VydmljZVVybCB9KTtcbiAgICAgICAgICAgIH0gfSkpKSksIGgoXCJjYWxjaXRlLWZhYlwiLCB7IGFwcGVhcmFuY2U6IFwib3V0bGluZS1maWxsXCIsIHNsb3Q6IFwiZmFiXCIsIHRleHRFbmFibGVkOiB0cnVlLCB0ZXh0OiBzdHJpbmdzLmFjdGlvbnMubmV3VmVyc2lvbiwgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmVyc2lvbkxpc3RBY3Rpb25DbGlja2VkRXZlbnQuZW1pdCh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblR5cGU6IFwibmV3VmVyc2lvblwiLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlVXJsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSB9KSkpKSk7XG4gICAgfVxuICAgIGdldCBfaG9zdEVsZW1lbnQoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuXG5leHBvcnQgeyBBcmNnaXNWZXJzaW9uTWFuYWdlbWVudFZlcnNpb25JdGVtIGFzIGFyY2dpc192ZXJzaW9uX21hbmFnZW1lbnRfdmVyc2lvbl9pdGVtLCBBcmNnaXNWZXJzaW9uTWFuYWdlbWVudFZlcnNpb25MaXN0IGFzIGFyY2dpc192ZXJzaW9uX21hbmFnZW1lbnRfdmVyc2lvbl9saXN0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=