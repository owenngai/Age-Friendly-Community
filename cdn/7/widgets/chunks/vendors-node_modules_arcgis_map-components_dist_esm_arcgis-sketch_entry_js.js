"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_map-components_dist_esm_arcgis-sketch_entry_js"],{

/***/ "./node_modules/@arcgis/map-components/dist/esm/arcgis-sketch.entry.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/esm/arcgis-sketch.entry.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_sketch: () => (/* binding */ ArcgisSketch)
/* harmony export */ });
/* harmony import */ var _index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-6e172aac.js */ "./node_modules/@arcgis/map-components/dist/esm/index-6e172aac.js");
/* harmony import */ var _index_0bc55ca5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-0bc55ca5.js */ "./node_modules/@arcgis/map-components/dist/esm/index-0bc55ca5.js");
/* harmony import */ var _component_utils_23194f7c_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component-utils-23194f7c.js */ "./node_modules/@arcgis/map-components/dist/esm/component-utils-23194f7c.js");
/* harmony import */ var _disconnected_6cf1c100_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./disconnected-6cf1c100.js */ "./node_modules/@arcgis/map-components/dist/esm/disconnected-6cf1c100.js");
/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.30/esri/copyright.txt for details.
 * v4.30.0-next.37
 */





const sketchCss = "arcgis-sketch{}";

const ArcgisSketch = class {
    constructor(hostRef) {
        (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
        this.arcgisSketchReady = (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "arcgisSketchReady", 7);
        this.sketchCreate = (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "sketchCreate", 7);
        this.sketchDelete = (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "sketchDelete", 7);
        this.sketchRedo = (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "sketchRedo", 7);
        this.sketchUndo = (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "sketchUndo", 7);
        this.sketchUpdate = (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "sketchUpdate", 7);
        this._watchHandles = [];
        this.referenceElement = undefined;
        this.activeTool = undefined;
        this.availableCreateTools = undefined;
        this.createGraphic = undefined;
        this.creationMode = "continuous";
        this.defaultCreateOptions = undefined;
        this.defaultUpdateOptions = undefined;
        this.icon = undefined;
        this.labelOptions = undefined;
        this.layer = undefined;
        this.layout = "horizontal";
        this.pointSymbol = undefined;
        this.polylineSymbol = undefined;
        this.polygonSymbol = undefined;
        this.snappingOptions = undefined;
        this.tooltipOptions = undefined;
        this.updateGraphics = undefined;
        this.visibleElementsCreateToolsPoint = true;
        this.visibleElementsCreateToolsPolyline = true;
        this.visibleElementsCreateToolsPolygon = true;
        this.visibleElementsCreateToolsRectangle = true;
        this.visibleElementsCreateToolsCircle = true;
        this.visibleElementsDuplicateButton = true;
        this.visibleElementsSelectionToolsRectangle = true;
        this.visibleElementsSelectionToolsLasso = true;
        this.visibleElementsSettingsMenu = true;
        this.visibleElementsLabelsToggle = true;
        this.visibleElementsTooltipsToggle = true;
        this.visibleElementsSnappingControls = true;
        this.visibleElementsSnappingControlsElementsHeader = true;
        this.visibleElementsSnappingControlsElementsEnabledToggle = true;
        this.visibleElementsSnappingControlsElementsSelfEnabledToggle = true;
        this.visibleElementsSnappingControlsElementsFeatureEnabledToggle = true;
        this.visibleElementsSnappingControlsElementsLayerList = true;
        this.visibleElementsUndoRedoMenu = true;
        this.position = "bottom-left";
        this.view = undefined;
        this.widget = undefined;
    }
    referenceElementWatcher(value) {
        void (0,_component_utils_23194f7c_js__WEBPACK_IMPORTED_MODULE_2__.r)(this, value);
    }
    availableCreateToolsWatcher(value) {
        if (this.widget) {
            this.widget.availableCreateTools = value;
        }
    }
    creationModeWatcher(value) {
        if (this.widget) {
            this.widget.creationMode = value;
        }
    }
    defaultCreateOptionsWatcher(value) {
        if (this.widget) {
            this.widget.defaultCreateOptions = value;
        }
    }
    defaultUpdateOptionsWatcher(value) {
        if (this.widget) {
            this.widget.defaultUpdateOptions = value;
        }
    }
    iconWatcher(value) {
        if (this.widget) {
            this.widget.icon = value;
        }
    }
    labelOptionsWatcher(value) {
        if (this.widget) {
            this.widget.labelOptions = value;
        }
    }
    layerWatcher(value) {
        if (this.widget) {
            this.widget.layer = value;
        }
    }
    layoutWatcher(value) {
        if (this.widget) {
            this.widget.layout = value;
        }
    }
    pointSymbolWatcher(value) {
        if (this.widget) {
            this.widget.viewModel.pointSymbol = value;
        }
    }
    polylineSymbolWatcher(value) {
        if (this.widget) {
            this.widget.viewModel.polylineSymbol = value;
        }
    }
    polygonSymbolWatcher(value) {
        if (this.widget) {
            this.widget.viewModel.polygonSymbol = value;
        }
    }
    snappingOptionsWatcher(value) {
        if (this.widget) {
            this.widget.snappingOptions = value;
        }
    }
    tooltipOptionsWatcher(value) {
        if (this.widget) {
            this.widget.tooltipOptions = value;
        }
    }
    visibleElementsCreateToolsPointWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                createTools: {
                    ...this.widget.visibleElements.createTools,
                    point: value,
                },
            };
        }
    }
    visibleElementsCreateToolsPolylineWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                createTools: {
                    ...this.widget.visibleElements.createTools,
                    polyline: value,
                },
            };
        }
    }
    visibleElementsCreateToolsPolygonWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                createTools: {
                    ...this.widget.visibleElements.createTools,
                    polygon: value,
                },
            };
        }
    }
    visibleElementsCreateToolsRectangleWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                createTools: {
                    ...this.widget.visibleElements.createTools,
                    rectangle: value,
                },
            };
        }
    }
    visibleElementsCreateToolsCircleWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                createTools: {
                    ...this.widget.visibleElements.createTools,
                    circle: value,
                },
            };
        }
    }
    visibleElementsDuplicateButtonWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                duplicateButton: value,
            };
        }
    }
    visibleElementsSelectionToolsRectangleWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                selectionTools: {
                    ...this.widget.visibleElements.selectionTools,
                    "rectangle-selection": value,
                },
            };
        }
    }
    visibleElementsSelectionToolsLassoWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                selectionTools: {
                    ...this.widget.visibleElements.selectionTools,
                    "lasso-selection": value,
                },
            };
        }
    }
    visibleElementsSettingsMenuWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                settingsMenu: value,
            };
        }
    }
    visibleElementsLabelsToggleWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                labelsToggle: value,
            };
        }
    }
    visibleElementsTooltipsToggleWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                tooltipsToggle: value,
            };
        }
    }
    visibleElementsSnappingControlsWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                snappingControls: value,
            };
        }
    }
    visibleElementsSnappingControlsElementsHeaderWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                snappingControlsElements: {
                    header: value,
                },
            };
        }
    }
    visibleElementsSnappingControlsElementsEnabledToggleWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                snappingControlsElements: {
                    enabledToggle: value,
                },
            };
        }
    }
    visibleElementsSnappingControlsElementsSelfEnabledToggleWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                snappingControlsElements: {
                    selfEnabledToggle: value,
                },
            };
        }
    }
    visibleElementsSnappingControlsElementsFeatureEnabledToggleWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                snappingControlsElements: {
                    featureEnabledToggle: value,
                },
            };
        }
    }
    visibleElementsSnappingControlsElementsLayerListWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                snappingControlsElements: {
                    layerList: value,
                },
            };
        }
    }
    visibleElementsUndoRedoMenuWatcher(value) {
        if (this.widget) {
            this.widget.visibleElements = {
                ...this.widget.visibleElements,
                undoRedoMenu: value,
            };
        }
    }
    positionWatcher(value) {
        if (value !== undefined && this.widget) {
            this.view.ui.move(this.childElem, value);
        }
    }
    viewWatcher(value) {
        if (value !== undefined && this.widget) {
            this.widget.view = value;
            this.widget.view.map?.add(this.layer);
        }
    }
    //--------------------------------------------------------------------------
    //
    //  Methods
    //
    //--------------------------------------------------------------------------
    async cancel() {
        this.widget?.cancel();
    }
    async complete() {
        this.widget?.complete();
    }
    async create(tool, createOptions) {
        this.widget?.create(tool, createOptions);
    }
    async delete() {
        this.widget?.delete();
    }
    async duplicate() {
        this.widget?.duplicate();
    }
    async redo() {
        this.widget?.redo();
    }
    async undo() {
        this.widget?.undo();
    }
    async update(graphic, updateOptions) {
        return void this.widget?.update(graphic, updateOptions);
    }
    //--------------------------------------------------------------------------
    //
    //  Lifecycle
    //
    //--------------------------------------------------------------------------
    async componentDidLoad() {
        const params = await this._createParams();
        const widget = await (0,_index_0bc55ca5_js__WEBPACK_IMPORTED_MODULE_1__.V)(params);
        this.widget = widget;
        this._setViewModelParams();
        await this._addWatchers();
        this._proxyEvents();
        this._addContainer();
        this.arcgisSketchReady.emit();
        (0,_component_utils_23194f7c_js__WEBPACK_IMPORTED_MODULE_2__.c)(this);
    }
    disconnectedCallback() {
        (0,_disconnected_6cf1c100_js__WEBPACK_IMPORTED_MODULE_3__.o)(this);
    }
    render() {
        return (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { ref: (el) => (this.childElem = el) });
    }
    //--------------------------------------------------------------------------
    //
    //  Private Methods
    //
    //--------------------------------------------------------------------------
    _addContainer() {
        this.widget.container = this.childElem;
    }
    async _addWatchers() {
        const { watch } = await (0,_index_0bc55ca5_js__WEBPACK_IMPORTED_MODULE_1__.i)();
        (0,_component_utils_23194f7c_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, watch(() => this.widget.activeTool, (value) => (this.activeTool = value), {
            initial: true,
        }));
        (0,_component_utils_23194f7c_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, watch(() => this.widget.createGraphic, (value) => (this.createGraphic = value), {
            initial: true,
        }));
        (0,_component_utils_23194f7c_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, watch(() => this.widget.updateGraphics, (value) => (this.updateGraphics = value), {
            initial: true,
        }));
    }
    async _createParams() {
        const graphicsLayerProps = {
            title: "Sketch Layer",
            creationMode: "update",
        };
        this.layer || (this.layer = await (0,_index_0bc55ca5_js__WEBPACK_IMPORTED_MODULE_1__.W)(graphicsLayerProps));
        const params = {
            layer: this.layer,
        };
        params.visibleElements = {
            createTools: {
                point: this.visibleElementsCreateToolsPoint,
                polyline: this.visibleElementsCreateToolsPolyline,
                polygon: this.visibleElementsCreateToolsPolygon,
                rectangle: this.visibleElementsCreateToolsRectangle,
                circle: this.visibleElementsCreateToolsCircle,
            },
            duplicateButton: this.visibleElementsDuplicateButton,
            selectionTools: {
                "rectangle-selection": this.visibleElementsSelectionToolsRectangle,
                "lasso-selection": this.visibleElementsSelectionToolsLasso,
            },
            settingsMenu: this.visibleElementsSettingsMenu,
            labelsToggle: this.visibleElementsLabelsToggle,
            tooltipsToggle: this.visibleElementsTooltipsToggle,
            snappingControls: this.visibleElementsSnappingControls,
            snappingControlsElements: {
                header: this.visibleElementsSnappingControlsElementsHeader,
                enabledToggle: this.visibleElementsSnappingControlsElementsEnabledToggle,
                selfEnabledToggle: this.visibleElementsSnappingControlsElementsSelfEnabledToggle,
                featureEnabledToggle: this.visibleElementsSnappingControlsElementsFeatureEnabledToggle,
                layerList: this.visibleElementsSnappingControlsElementsLayerList,
            },
            undoRedoMenu: this.visibleElementsUndoRedoMenu,
        };
        if (this.view) {
            params.view = this.view;
        }
        if (this.availableCreateTools) {
            params.availableCreateTools = this.availableCreateTools;
        }
        if (this.creationMode) {
            params.creationMode = this.creationMode;
        }
        if (this.defaultCreateOptions) {
            params.defaultCreateOptions = this.defaultCreateOptions;
        }
        if (this.defaultUpdateOptions) {
            params.defaultUpdateOptions = this.defaultUpdateOptions;
        }
        if (this.labelOptions) {
            params.labelOptions = this.labelOptions;
        }
        if (this.layout) {
            params.layout = this.layout;
        }
        if (this.snappingOptions) {
            params.snappingOptions = this.snappingOptions;
        }
        if (this.tooltipOptions) {
            params.tooltipOptions = this.tooltipOptions;
        }
        return params;
    }
    _setViewModelParams() {
        const params = {};
        if (this.pointSymbol) {
            params.pointSymbol = this.pointSymbol;
        }
        if (this.polylineSymbol) {
            params.polylineSymbol = this.polylineSymbol;
        }
        if (this.polygonSymbol) {
            params.polygonSymbol = this.polygonSymbol;
        }
        this.widget.viewModel.set(params);
    }
    _proxyEvents() {
        this.widget.on("create", (e) => this.sketchCreate.emit(e));
        this.widget.on("delete", (e) => this.sketchDelete.emit(e));
        this.widget.on("redo", (e) => this.sketchRedo.emit(e));
        this.widget.on("undo", (e) => this.sketchUndo.emit(e));
        this.widget.on("update", (e) => this.sketchUpdate.emit(e));
    }
    get el() { return (0,_index_6e172aac_js__WEBPACK_IMPORTED_MODULE_0__.g)(this); }
    static get watchers() { return {
        "referenceElement": ["referenceElementWatcher"],
        "availableCreateTools": ["availableCreateToolsWatcher"],
        "creationMode": ["creationModeWatcher"],
        "defaultCreateOptions": ["defaultCreateOptionsWatcher"],
        "defaultUpdateOptions": ["defaultUpdateOptionsWatcher"],
        "icon": ["iconWatcher"],
        "labelOptions": ["labelOptionsWatcher"],
        "layer": ["layerWatcher"],
        "layout": ["layoutWatcher"],
        "pointSymbol": ["pointSymbolWatcher"],
        "polylineSymbol": ["polylineSymbolWatcher"],
        "polygonSymbol": ["polygonSymbolWatcher"],
        "snappingOptions": ["snappingOptionsWatcher"],
        "tooltipOptions": ["tooltipOptionsWatcher"],
        "visibleElementsCreateToolsPoint": ["visibleElementsCreateToolsPointWatcher"],
        "visibleElementsCreateToolsPolyline": ["visibleElementsCreateToolsPolylineWatcher"],
        "visibleElementsCreateToolsPolygon": ["visibleElementsCreateToolsPolygonWatcher"],
        "visibleElementsCreateToolsRectangle": ["visibleElementsCreateToolsRectangleWatcher"],
        "visibleElementsCreateToolsCircle": ["visibleElementsCreateToolsCircleWatcher"],
        "visibleElementsDuplicateButton": ["visibleElementsDuplicateButtonWatcher"],
        "visibleElementsSelectionToolsRectangle": ["visibleElementsSelectionToolsRectangleWatcher"],
        "visibleElementsSelectionToolsLasso": ["visibleElementsSelectionToolsLassoWatcher"],
        "visibleElementsSettingsMenu": ["visibleElementsSettingsMenuWatcher"],
        "visibleElementsLabelsToggle": ["visibleElementsLabelsToggleWatcher"],
        "visibleElementsTooltipsToggle": ["visibleElementsTooltipsToggleWatcher"],
        "visibleElementsSnappingControls": ["visibleElementsSnappingControlsWatcher"],
        "visibleElementsSnappingControlsElementsHeader": ["visibleElementsSnappingControlsElementsHeaderWatcher"],
        "visibleElementsSnappingControlsElementsEnabledToggle": ["visibleElementsSnappingControlsElementsEnabledToggleWatcher"],
        "visibleElementsSnappingControlsElementsSelfEnabledToggle": ["visibleElementsSnappingControlsElementsSelfEnabledToggleWatcher"],
        "visibleElementsSnappingControlsElementsFeatureEnabledToggle": ["visibleElementsSnappingControlsElementsFeatureEnabledToggleWatcher"],
        "visibleElementsSnappingControlsElementsLayerList": ["visibleElementsSnappingControlsElementsLayerListWatcher"],
        "visibleElementsUndoRedoMenu": ["visibleElementsUndoRedoMenuWatcher"],
        "position": ["positionWatcher"],
        "view": ["viewWatcher"]
    }; }
};
ArcgisSketch.style = sketchCss;




/***/ }),

/***/ "./node_modules/@arcgis/map-components/dist/esm/component-utils-23194f7c.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/esm/component-utils-23194f7c.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ addHandles),
/* harmony export */   b: () => (/* binding */ isNotSameViewpoint),
/* harmony export */   c: () => (/* binding */ checkForView),
/* harmony export */   d: () => (/* binding */ checkForExpand),
/* harmony export */   e: () => (/* binding */ isNotSameCamera),
/* harmony export */   f: () => (/* binding */ isNotSameEnvironment),
/* harmony export */   g: () => (/* binding */ isValidInteger),
/* harmony export */   i: () => (/* binding */ isNullOrEmptyString),
/* harmony export */   r: () => (/* binding */ referenceElementHelper)
/* harmony export */ });
/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.30/esri/copyright.txt for details.
 * v4.30.0-next.37
 */
function checkForExpand(element) {
    const expandRef = element.el.closest("arcgis-expand") ?? element.expandElem;
    if (expandRef?.widget) {
        element.view = expandRef.view;
        expandRef.widget.content = element.childElem ?? element.el;
        // TODO: Update to be expandIcon = widget.icon, not ready yet in 4.27next
        if (!expandRef.expandIcon) {
            expandRef.widget.expandIcon = element.widget ? element.widget.icon : element?.icon;
        }
        return true;
    }
    if (expandRef) {
        const widgetHandler = () => {
            expandRef.removeEventListener("arcgisExpandReady", widgetHandler, false);
            element.view = expandRef.view;
            expandRef.widget.content = element.childElem ?? element.el;
            if (!expandRef.expandIcon) {
                expandRef.widget.expandIcon = element.widget ? element.widget.icon : element?.icon;
            }
        };
        expandRef.addEventListener("arcgisExpandReady", widgetHandler, false);
        return true;
    }
    return false;
}

//--------------------------------------------------------------------------
//
//  Public Methods
//
//--------------------------------------------------------------------------
function addHandles(element, handle) {
    if (Array.isArray(handle)) {
        element._watchHandles = [...element._watchHandles, ...handle];
    }
    else {
        element._watchHandles.push(handle);
    }
}
function checkForView(element) {
    let isUsingReferenceElement = false;
    if (!checkForExpand(element)) {
        let viewRef = element.el.closest("arcgis-map") ?? element.el.closest("arcgis-scene");
        if (!viewRef && typeof element.referenceElement === "string") {
            viewRef = document.querySelector(element.referenceElement);
            isUsingReferenceElement = true;
        }
        if (viewRef?.view) {
            element.view = viewRef.view;
            const el = element.childElem ?? element.el;
            if (!isUsingReferenceElement) {
                element.view.ui.add(el, element.position);
            }
        }
        else if (viewRef) {
            waitForViewHandler(viewRef, element, isUsingReferenceElement);
        }
    }
    else {
        const viewRef = element.el.closest("arcgis-map") ?? element.el.closest("arcgis-scene");
        if (viewRef?.view) {
            element.view = viewRef.view;
        }
        else if (viewRef) {
            const handler = () => {
                viewRef.removeEventListener("arcgisViewReadyChange", handler, false);
                element.view = viewRef.view;
            };
            viewRef.addEventListener("arcgisViewReadyChange", handler, false);
        }
    }
}
function isNullOrEmptyString(value) {
    return value === undefined || value === null || value === "";
}
function isValidInteger(value) {
    return value != null && value % 1 === 0;
}
function isNotSameCamera(camera, camera2) {
    return (camera2 === undefined ||
        camera.position !== camera2.position ||
        camera.heading !== camera2.heading ||
        camera.tilt !== camera2.tilt);
}
function isNotSameEnvironment(environment, environment2) {
    return (environment2 === undefined ||
        environment2.atmosphereEnabled !== environment.atmosphereEnabled ||
        environment2.lighting.date !== environment.lighting.date ||
        environment2.lighting.directShadowsEnabled !==
            environment.lighting.directShadowsEnabled ||
        environment2.lighting.cameraTrackingEnabled !==
            environment.lighting.cameraTrackingEnabled ||
        environment2.lighting.date !== environment.lighting.date ||
        environment2.lighting.displayUTCOffset !==
            environment.lighting.displayUTCOffset);
}
function isNotSameViewpoint(viewpoint, viewpoint2) {
    return (viewpoint2 === undefined ||
        viewpoint.targetGeometry !== viewpoint2.targetGeometry ||
        viewpoint.rotation !== viewpoint2.rotation ||
        viewpoint.scale !== viewpoint2.scale);
}
async function updateForView(viewStr) {
    const viewRef = document.querySelector(viewStr);
    return await new Promise((resolve) => {
        if (viewRef?.view !== undefined) {
            resolve(viewRef.view);
        }
        else if (viewRef) {
            const handler = () => {
                viewRef.removeEventListener("arcgisViewReadyChange", handler, false);
                resolve(viewRef.view);
            };
            viewRef.addEventListener("arcgisViewReadyChange", handler, false);
        }
    });
}
async function referenceElementHelper(element, refElement) {
    if (refElement === undefined)
        return;
    else if (typeof refElement === "string") {
        element.view = await updateForView(refElement);
    }
    else if (element.widget) {
        element.view = refElement.view;
    }
}
//--------------------------------------------------------------------------
//
//  Private Methods
//
//--------------------------------------------------------------------------
function waitForViewHandler(viewRef, element, isUsingRefernceElement) {
    const handler = () => {
        viewRef.removeEventListener("arcgisViewReadyChange", handler, false);
        element.view = viewRef.view;
        if (!isUsingRefernceElement) {
            element.view.ui.add(element.childElem ?? element.el, element.position);
        }
    };
    viewRef.addEventListener("arcgisViewReadyChange", handler, false);
}




/***/ }),

/***/ "./node_modules/@arcgis/map-components/dist/esm/disconnected-6cf1c100.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/map-components/dist/esm/disconnected-6cf1c100.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   o: () => (/* binding */ onDisconnectedHelper)
/* harmony export */ });
/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.30/esri/copyright.txt for details.
 * v4.30.0-next.37
 */
function onDisconnectedHelper(element) {
    if (element.childElem) {
        if (!element.el.isConnected) {
            if (element.view) {
                element.view.ui.remove(element.childElem);
            }
            else if (element.widget?.view) {
                element.widget.view.ui.remove(element.childElem);
            }
            if (element._watchHandles) {
                element._watchHandles.forEach((handle) => {
                    handle.remove();
                });
            }
            element._watchHandles = [];
            element.widget?.destroy();
        }
    }
    else {
        setTimeout(() => {
            if (!element.el.isConnected) {
                if (element.view) {
                    element.view.ui.remove(element.el);
                }
                else if (element.widget?.view) {
                    element.widget.view.ui.remove(element.el);
                }
                if (element._watchHandles) {
                    element._watchHandles.forEach((handle) => {
                        handle.remove();
                    });
                }
                element._watchHandles = [];
                element.widget?.destroy();
            }
        }, 1000);
    }
}




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvdmVuZG9ycy1ub2RlX21vZHVsZXNfYXJjZ2lzX21hcC1jb21wb25lbnRzX2Rpc3RfZXNtX2FyY2dpcy1za2V0Y2hfZW50cnlfanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2tHO0FBQ3FCO0FBQ1A7QUFDekM7O0FBRXZFLGtDQUFrQzs7QUFFbEM7QUFDQTtBQUNBLFFBQVEscURBQWdCO0FBQ3hCLGlDQUFpQyxxREFBVztBQUM1Qyw0QkFBNEIscURBQVc7QUFDdkMsNEJBQTRCLHFEQUFXO0FBQ3ZDLDBCQUEwQixxREFBVztBQUNyQywwQkFBMEIscURBQVc7QUFDckMsNEJBQTRCLHFEQUFXO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtEQUFzQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscURBQWdCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0RBQVk7QUFDcEI7QUFDQTtBQUNBLFFBQVEsNERBQW9CO0FBQzVCO0FBQ0E7QUFDQSxlQUFlLHFEQUFDLFVBQVUsb0NBQW9DO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVEsUUFBUSxxREFBdUI7QUFDdkQsUUFBUSwrREFBVTtBQUNsQjtBQUNBLFNBQVM7QUFDVCxRQUFRLCtEQUFVO0FBQ2xCO0FBQ0EsU0FBUztBQUNULFFBQVEsK0RBQVU7QUFDbEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHFEQUFzQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU8scURBQVU7QUFDaEMsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV5Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM5ZnpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXlOOzs7Ozs7Ozs7Ozs7Ozs7QUNwSnpOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9tYXAtY29tcG9uZW50cy9kaXN0L2VzbS9hcmNnaXMtc2tldGNoLmVudHJ5LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9tYXAtY29tcG9uZW50cy9kaXN0L2VzbS9jb21wb25lbnQtdXRpbHMtMjMxOTRmN2MuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL21hcC1jb21wb25lbnRzL2Rpc3QvZXNtL2Rpc2Nvbm5lY3RlZC02Y2YxYzEwMC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRXNyaSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiBTZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMzAvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuICogdjQuMzAuMC1uZXh0LjM3XG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgaCwgZyBhcyBnZXRFbGVtZW50IH0gZnJvbSAnLi9pbmRleC02ZTE3MmFhYy5qcyc7XG5pbXBvcnQgeyBWIGFzIG5ld1dpZGdldHNTa2V0Y2gsIGkgYXMgaW1wb3J0Q29yZVJlYWN0aXZlVXRpbHMsIFcgYXMgbmV3TGF5ZXJzR3JhcGhpY3NMYXllciB9IGZyb20gJy4vaW5kZXgtMGJjNTVjYTUuanMnO1xuaW1wb3J0IHsgciBhcyByZWZlcmVuY2VFbGVtZW50SGVscGVyLCBjIGFzIGNoZWNrRm9yVmlldywgYSBhcyBhZGRIYW5kbGVzIH0gZnJvbSAnLi9jb21wb25lbnQtdXRpbHMtMjMxOTRmN2MuanMnO1xuaW1wb3J0IHsgbyBhcyBvbkRpc2Nvbm5lY3RlZEhlbHBlciB9IGZyb20gJy4vZGlzY29ubmVjdGVkLTZjZjFjMTAwLmpzJztcblxuY29uc3Qgc2tldGNoQ3NzID0gXCJhcmNnaXMtc2tldGNoe31cIjtcblxuY29uc3QgQXJjZ2lzU2tldGNoID0gY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICAgICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICAgICAgdGhpcy5hcmNnaXNTa2V0Y2hSZWFkeSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiYXJjZ2lzU2tldGNoUmVhZHlcIiwgNyk7XG4gICAgICAgIHRoaXMuc2tldGNoQ3JlYXRlID0gY3JlYXRlRXZlbnQodGhpcywgXCJza2V0Y2hDcmVhdGVcIiwgNyk7XG4gICAgICAgIHRoaXMuc2tldGNoRGVsZXRlID0gY3JlYXRlRXZlbnQodGhpcywgXCJza2V0Y2hEZWxldGVcIiwgNyk7XG4gICAgICAgIHRoaXMuc2tldGNoUmVkbyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwic2tldGNoUmVkb1wiLCA3KTtcbiAgICAgICAgdGhpcy5za2V0Y2hVbmRvID0gY3JlYXRlRXZlbnQodGhpcywgXCJza2V0Y2hVbmRvXCIsIDcpO1xuICAgICAgICB0aGlzLnNrZXRjaFVwZGF0ZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwic2tldGNoVXBkYXRlXCIsIDcpO1xuICAgICAgICB0aGlzLl93YXRjaEhhbmRsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmFjdGl2ZVRvb2wgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQ3JlYXRlVG9vbHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY3JlYXRlR3JhcGhpYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jcmVhdGlvbk1vZGUgPSBcImNvbnRpbnVvdXNcIjtcbiAgICAgICAgdGhpcy5kZWZhdWx0Q3JlYXRlT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5kZWZhdWx0VXBkYXRlT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pY29uID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmxhYmVsT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5sYXllciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5sYXlvdXQgPSBcImhvcml6b250YWxcIjtcbiAgICAgICAgdGhpcy5wb2ludFN5bWJvbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5wb2x5bGluZVN5bWJvbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5wb2x5Z29uU3ltYm9sID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNuYXBwaW5nT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50b29sdGlwT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy51cGRhdGVHcmFwaGljcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudHNDcmVhdGVUb29sc1BvaW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudHNDcmVhdGVUb29sc1BvbHlsaW5lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudHNDcmVhdGVUb29sc1BvbHlnb24gPSB0cnVlO1xuICAgICAgICB0aGlzLnZpc2libGVFbGVtZW50c0NyZWF0ZVRvb2xzUmVjdGFuZ2xlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudHNDcmVhdGVUb29sc0NpcmNsZSA9IHRydWU7XG4gICAgICAgIHRoaXMudmlzaWJsZUVsZW1lbnRzRHVwbGljYXRlQnV0dG9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudHNTZWxlY3Rpb25Ub29sc1JlY3RhbmdsZSA9IHRydWU7XG4gICAgICAgIHRoaXMudmlzaWJsZUVsZW1lbnRzU2VsZWN0aW9uVG9vbHNMYXNzbyA9IHRydWU7XG4gICAgICAgIHRoaXMudmlzaWJsZUVsZW1lbnRzU2V0dGluZ3NNZW51ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudHNMYWJlbHNUb2dnbGUgPSB0cnVlO1xuICAgICAgICB0aGlzLnZpc2libGVFbGVtZW50c1Rvb2x0aXBzVG9nZ2xlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudHNTbmFwcGluZ0NvbnRyb2xzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudHNTbmFwcGluZ0NvbnRyb2xzRWxlbWVudHNIZWFkZXIgPSB0cnVlO1xuICAgICAgICB0aGlzLnZpc2libGVFbGVtZW50c1NuYXBwaW5nQ29udHJvbHNFbGVtZW50c0VuYWJsZWRUb2dnbGUgPSB0cnVlO1xuICAgICAgICB0aGlzLnZpc2libGVFbGVtZW50c1NuYXBwaW5nQ29udHJvbHNFbGVtZW50c1NlbGZFbmFibGVkVG9nZ2xlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudHNTbmFwcGluZ0NvbnRyb2xzRWxlbWVudHNGZWF0dXJlRW5hYmxlZFRvZ2dsZSA9IHRydWU7XG4gICAgICAgIHRoaXMudmlzaWJsZUVsZW1lbnRzU25hcHBpbmdDb250cm9sc0VsZW1lbnRzTGF5ZXJMaXN0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlRWxlbWVudHNVbmRvUmVkb01lbnUgPSB0cnVlO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gXCJib3R0b20tbGVmdFwiO1xuICAgICAgICB0aGlzLnZpZXcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMud2lkZ2V0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZWZlcmVuY2VFbGVtZW50V2F0Y2hlcih2YWx1ZSkge1xuICAgICAgICB2b2lkIHJlZmVyZW5jZUVsZW1lbnRIZWxwZXIodGhpcywgdmFsdWUpO1xuICAgIH1cbiAgICBhdmFpbGFibGVDcmVhdGVUb29sc1dhdGNoZXIodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLndpZGdldC5hdmFpbGFibGVDcmVhdGVUb29scyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0aW9uTW9kZVdhdGNoZXIodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLndpZGdldC5jcmVhdGlvbk1vZGUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWZhdWx0Q3JlYXRlT3B0aW9uc1dhdGNoZXIodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLndpZGdldC5kZWZhdWx0Q3JlYXRlT3B0aW9ucyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlZmF1bHRVcGRhdGVPcHRpb25zV2F0Y2hlcih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LmRlZmF1bHRVcGRhdGVPcHRpb25zID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWNvbldhdGNoZXIodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLndpZGdldC5pY29uID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGFiZWxPcHRpb25zV2F0Y2hlcih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LmxhYmVsT3B0aW9ucyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxheWVyV2F0Y2hlcih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LmxheWVyID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGF5b3V0V2F0Y2hlcih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LmxheW91dCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBvaW50U3ltYm9sV2F0Y2hlcih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LnZpZXdNb2RlbC5wb2ludFN5bWJvbCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBvbHlsaW5lU3ltYm9sV2F0Y2hlcih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LnZpZXdNb2RlbC5wb2x5bGluZVN5bWJvbCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBvbHlnb25TeW1ib2xXYXRjaGVyKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLndpZGdldCkge1xuICAgICAgICAgICAgdGhpcy53aWRnZXQudmlld01vZGVsLnBvbHlnb25TeW1ib2wgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzbmFwcGluZ09wdGlvbnNXYXRjaGVyKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLndpZGdldCkge1xuICAgICAgICAgICAgdGhpcy53aWRnZXQuc25hcHBpbmdPcHRpb25zID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9vbHRpcE9wdGlvbnNXYXRjaGVyKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLndpZGdldCkge1xuICAgICAgICAgICAgdGhpcy53aWRnZXQudG9vbHRpcE9wdGlvbnMgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpYmxlRWxlbWVudHNDcmVhdGVUb29sc1BvaW50V2F0Y2hlcih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgY3JlYXRlVG9vbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzLmNyZWF0ZVRvb2xzLFxuICAgICAgICAgICAgICAgICAgICBwb2ludDogdmFsdWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaWJsZUVsZW1lbnRzQ3JlYXRlVG9vbHNQb2x5bGluZVdhdGNoZXIodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzLFxuICAgICAgICAgICAgICAgIGNyZWF0ZVRvb2xzOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cy5jcmVhdGVUb29scyxcbiAgICAgICAgICAgICAgICAgICAgcG9seWxpbmU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2libGVFbGVtZW50c0NyZWF0ZVRvb2xzUG9seWdvbldhdGNoZXIodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzLFxuICAgICAgICAgICAgICAgIGNyZWF0ZVRvb2xzOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cy5jcmVhdGVUb29scyxcbiAgICAgICAgICAgICAgICAgICAgcG9seWdvbjogdmFsdWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaWJsZUVsZW1lbnRzQ3JlYXRlVG9vbHNSZWN0YW5nbGVXYXRjaGVyKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLndpZGdldCkge1xuICAgICAgICAgICAgdGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cyxcbiAgICAgICAgICAgICAgICBjcmVhdGVUb29sczoge1xuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMuY3JlYXRlVG9vbHMsXG4gICAgICAgICAgICAgICAgICAgIHJlY3RhbmdsZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaWJsZUVsZW1lbnRzQ3JlYXRlVG9vbHNDaXJjbGVXYXRjaGVyKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLndpZGdldCkge1xuICAgICAgICAgICAgdGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cyxcbiAgICAgICAgICAgICAgICBjcmVhdGVUb29sczoge1xuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMuY3JlYXRlVG9vbHMsXG4gICAgICAgICAgICAgICAgICAgIGNpcmNsZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaWJsZUVsZW1lbnRzRHVwbGljYXRlQnV0dG9uV2F0Y2hlcih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgZHVwbGljYXRlQnV0dG9uOiB2YWx1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaWJsZUVsZW1lbnRzU2VsZWN0aW9uVG9vbHNSZWN0YW5nbGVXYXRjaGVyKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLndpZGdldCkge1xuICAgICAgICAgICAgdGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cyxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25Ub29sczoge1xuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMuc2VsZWN0aW9uVG9vbHMsXG4gICAgICAgICAgICAgICAgICAgIFwicmVjdGFuZ2xlLXNlbGVjdGlvblwiOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpYmxlRWxlbWVudHNTZWxlY3Rpb25Ub29sc0xhc3NvV2F0Y2hlcih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uVG9vbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzLnNlbGVjdGlvblRvb2xzLFxuICAgICAgICAgICAgICAgICAgICBcImxhc3NvLXNlbGVjdGlvblwiOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpYmxlRWxlbWVudHNTZXR0aW5nc01lbnVXYXRjaGVyKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLndpZGdldCkge1xuICAgICAgICAgICAgdGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cyxcbiAgICAgICAgICAgICAgICBzZXR0aW5nc01lbnU6IHZhbHVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpYmxlRWxlbWVudHNMYWJlbHNUb2dnbGVXYXRjaGVyKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLndpZGdldCkge1xuICAgICAgICAgICAgdGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cyxcbiAgICAgICAgICAgICAgICBsYWJlbHNUb2dnbGU6IHZhbHVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpYmxlRWxlbWVudHNUb29sdGlwc1RvZ2dsZVdhdGNoZXIodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzLFxuICAgICAgICAgICAgICAgIHRvb2x0aXBzVG9nZ2xlOiB2YWx1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaWJsZUVsZW1lbnRzU25hcHBpbmdDb250cm9sc1dhdGNoZXIodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzLFxuICAgICAgICAgICAgICAgIHNuYXBwaW5nQ29udHJvbHM6IHZhbHVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpYmxlRWxlbWVudHNTbmFwcGluZ0NvbnRyb2xzRWxlbWVudHNIZWFkZXJXYXRjaGVyKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLndpZGdldCkge1xuICAgICAgICAgICAgdGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cyxcbiAgICAgICAgICAgICAgICBzbmFwcGluZ0NvbnRyb2xzRWxlbWVudHM6IHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpYmxlRWxlbWVudHNTbmFwcGluZ0NvbnRyb2xzRWxlbWVudHNFbmFibGVkVG9nZ2xlV2F0Y2hlcih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgc25hcHBpbmdDb250cm9sc0VsZW1lbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWRUb2dnbGU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2libGVFbGVtZW50c1NuYXBwaW5nQ29udHJvbHNFbGVtZW50c1NlbGZFbmFibGVkVG9nZ2xlV2F0Y2hlcih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgc25hcHBpbmdDb250cm9sc0VsZW1lbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGZFbmFibGVkVG9nZ2xlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpYmxlRWxlbWVudHNTbmFwcGluZ0NvbnRyb2xzRWxlbWVudHNGZWF0dXJlRW5hYmxlZFRvZ2dsZVdhdGNoZXIodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy53aWRnZXQudmlzaWJsZUVsZW1lbnRzLFxuICAgICAgICAgICAgICAgIHNuYXBwaW5nQ29udHJvbHNFbGVtZW50czoge1xuICAgICAgICAgICAgICAgICAgICBmZWF0dXJlRW5hYmxlZFRvZ2dsZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaWJsZUVsZW1lbnRzU25hcHBpbmdDb250cm9sc0VsZW1lbnRzTGF5ZXJMaXN0V2F0Y2hlcih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgc25hcHBpbmdDb250cm9sc0VsZW1lbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyTGlzdDogdmFsdWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaWJsZUVsZW1lbnRzVW5kb1JlZG9NZW51V2F0Y2hlcih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy53aWRnZXQpIHtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LnZpc2libGVFbGVtZW50cyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLndpZGdldC52aXNpYmxlRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgdW5kb1JlZG9NZW51OiB2YWx1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcG9zaXRpb25XYXRjaGVyKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMud2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcudWkubW92ZSh0aGlzLmNoaWxkRWxlbSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpZXdXYXRjaGVyKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMud2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLndpZGdldC52aWV3ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLndpZGdldC52aWV3Lm1hcD8uYWRkKHRoaXMubGF5ZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL1xuICAgIC8vICBNZXRob2RzXG4gICAgLy9cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgYXN5bmMgY2FuY2VsKCkge1xuICAgICAgICB0aGlzLndpZGdldD8uY2FuY2VsKCk7XG4gICAgfVxuICAgIGFzeW5jIGNvbXBsZXRlKCkge1xuICAgICAgICB0aGlzLndpZGdldD8uY29tcGxldGUoKTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlKHRvb2wsIGNyZWF0ZU9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy53aWRnZXQ/LmNyZWF0ZSh0b29sLCBjcmVhdGVPcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlKCkge1xuICAgICAgICB0aGlzLndpZGdldD8uZGVsZXRlKCk7XG4gICAgfVxuICAgIGFzeW5jIGR1cGxpY2F0ZSgpIHtcbiAgICAgICAgdGhpcy53aWRnZXQ/LmR1cGxpY2F0ZSgpO1xuICAgIH1cbiAgICBhc3luYyByZWRvKCkge1xuICAgICAgICB0aGlzLndpZGdldD8ucmVkbygpO1xuICAgIH1cbiAgICBhc3luYyB1bmRvKCkge1xuICAgICAgICB0aGlzLndpZGdldD8udW5kbygpO1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGUoZ3JhcGhpYywgdXBkYXRlT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdm9pZCB0aGlzLndpZGdldD8udXBkYXRlKGdyYXBoaWMsIHVwZGF0ZU9wdGlvbnMpO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9cbiAgICAvLyAgTGlmZWN5Y2xlXG4gICAgLy9cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgYXN5bmMgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gYXdhaXQgdGhpcy5fY3JlYXRlUGFyYW1zKCk7XG4gICAgICAgIGNvbnN0IHdpZGdldCA9IGF3YWl0IG5ld1dpZGdldHNTa2V0Y2gocGFyYW1zKTtcbiAgICAgICAgdGhpcy53aWRnZXQgPSB3aWRnZXQ7XG4gICAgICAgIHRoaXMuX3NldFZpZXdNb2RlbFBhcmFtcygpO1xuICAgICAgICBhd2FpdCB0aGlzLl9hZGRXYXRjaGVycygpO1xuICAgICAgICB0aGlzLl9wcm94eUV2ZW50cygpO1xuICAgICAgICB0aGlzLl9hZGRDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5hcmNnaXNTa2V0Y2hSZWFkeS5lbWl0KCk7XG4gICAgICAgIGNoZWNrRm9yVmlldyh0aGlzKTtcbiAgICB9XG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIG9uRGlzY29ubmVjdGVkSGVscGVyKHRoaXMpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBoKFwiZGl2XCIsIHsgcmVmOiAoZWwpID0+ICh0aGlzLmNoaWxkRWxlbSA9IGVsKSB9KTtcbiAgICB9XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgLy8gIFByaXZhdGUgTWV0aG9kc1xuICAgIC8vXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIF9hZGRDb250YWluZXIoKSB7XG4gICAgICAgIHRoaXMud2lkZ2V0LmNvbnRhaW5lciA9IHRoaXMuY2hpbGRFbGVtO1xuICAgIH1cbiAgICBhc3luYyBfYWRkV2F0Y2hlcnMoKSB7XG4gICAgICAgIGNvbnN0IHsgd2F0Y2ggfSA9IGF3YWl0IGltcG9ydENvcmVSZWFjdGl2ZVV0aWxzKCk7XG4gICAgICAgIGFkZEhhbmRsZXModGhpcywgd2F0Y2goKCkgPT4gdGhpcy53aWRnZXQuYWN0aXZlVG9vbCwgKHZhbHVlKSA9PiAodGhpcy5hY3RpdmVUb29sID0gdmFsdWUpLCB7XG4gICAgICAgICAgICBpbml0aWFsOiB0cnVlLFxuICAgICAgICB9KSk7XG4gICAgICAgIGFkZEhhbmRsZXModGhpcywgd2F0Y2goKCkgPT4gdGhpcy53aWRnZXQuY3JlYXRlR3JhcGhpYywgKHZhbHVlKSA9PiAodGhpcy5jcmVhdGVHcmFwaGljID0gdmFsdWUpLCB7XG4gICAgICAgICAgICBpbml0aWFsOiB0cnVlLFxuICAgICAgICB9KSk7XG4gICAgICAgIGFkZEhhbmRsZXModGhpcywgd2F0Y2goKCkgPT4gdGhpcy53aWRnZXQudXBkYXRlR3JhcGhpY3MsICh2YWx1ZSkgPT4gKHRoaXMudXBkYXRlR3JhcGhpY3MgPSB2YWx1ZSksIHtcbiAgICAgICAgICAgIGluaXRpYWw6IHRydWUsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgYXN5bmMgX2NyZWF0ZVBhcmFtcygpIHtcbiAgICAgICAgY29uc3QgZ3JhcGhpY3NMYXllclByb3BzID0ge1xuICAgICAgICAgICAgdGl0bGU6IFwiU2tldGNoIExheWVyXCIsXG4gICAgICAgICAgICBjcmVhdGlvbk1vZGU6IFwidXBkYXRlXCIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubGF5ZXIgfHwgKHRoaXMubGF5ZXIgPSBhd2FpdCBuZXdMYXllcnNHcmFwaGljc0xheWVyKGdyYXBoaWNzTGF5ZXJQcm9wcykpO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBsYXllcjogdGhpcy5sYXllcixcbiAgICAgICAgfTtcbiAgICAgICAgcGFyYW1zLnZpc2libGVFbGVtZW50cyA9IHtcbiAgICAgICAgICAgIGNyZWF0ZVRvb2xzOiB7XG4gICAgICAgICAgICAgICAgcG9pbnQ6IHRoaXMudmlzaWJsZUVsZW1lbnRzQ3JlYXRlVG9vbHNQb2ludCxcbiAgICAgICAgICAgICAgICBwb2x5bGluZTogdGhpcy52aXNpYmxlRWxlbWVudHNDcmVhdGVUb29sc1BvbHlsaW5lLFxuICAgICAgICAgICAgICAgIHBvbHlnb246IHRoaXMudmlzaWJsZUVsZW1lbnRzQ3JlYXRlVG9vbHNQb2x5Z29uLFxuICAgICAgICAgICAgICAgIHJlY3RhbmdsZTogdGhpcy52aXNpYmxlRWxlbWVudHNDcmVhdGVUb29sc1JlY3RhbmdsZSxcbiAgICAgICAgICAgICAgICBjaXJjbGU6IHRoaXMudmlzaWJsZUVsZW1lbnRzQ3JlYXRlVG9vbHNDaXJjbGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZHVwbGljYXRlQnV0dG9uOiB0aGlzLnZpc2libGVFbGVtZW50c0R1cGxpY2F0ZUJ1dHRvbixcbiAgICAgICAgICAgIHNlbGVjdGlvblRvb2xzOiB7XG4gICAgICAgICAgICAgICAgXCJyZWN0YW5nbGUtc2VsZWN0aW9uXCI6IHRoaXMudmlzaWJsZUVsZW1lbnRzU2VsZWN0aW9uVG9vbHNSZWN0YW5nbGUsXG4gICAgICAgICAgICAgICAgXCJsYXNzby1zZWxlY3Rpb25cIjogdGhpcy52aXNpYmxlRWxlbWVudHNTZWxlY3Rpb25Ub29sc0xhc3NvLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldHRpbmdzTWVudTogdGhpcy52aXNpYmxlRWxlbWVudHNTZXR0aW5nc01lbnUsXG4gICAgICAgICAgICBsYWJlbHNUb2dnbGU6IHRoaXMudmlzaWJsZUVsZW1lbnRzTGFiZWxzVG9nZ2xlLFxuICAgICAgICAgICAgdG9vbHRpcHNUb2dnbGU6IHRoaXMudmlzaWJsZUVsZW1lbnRzVG9vbHRpcHNUb2dnbGUsXG4gICAgICAgICAgICBzbmFwcGluZ0NvbnRyb2xzOiB0aGlzLnZpc2libGVFbGVtZW50c1NuYXBwaW5nQ29udHJvbHMsXG4gICAgICAgICAgICBzbmFwcGluZ0NvbnRyb2xzRWxlbWVudHM6IHtcbiAgICAgICAgICAgICAgICBoZWFkZXI6IHRoaXMudmlzaWJsZUVsZW1lbnRzU25hcHBpbmdDb250cm9sc0VsZW1lbnRzSGVhZGVyLFxuICAgICAgICAgICAgICAgIGVuYWJsZWRUb2dnbGU6IHRoaXMudmlzaWJsZUVsZW1lbnRzU25hcHBpbmdDb250cm9sc0VsZW1lbnRzRW5hYmxlZFRvZ2dsZSxcbiAgICAgICAgICAgICAgICBzZWxmRW5hYmxlZFRvZ2dsZTogdGhpcy52aXNpYmxlRWxlbWVudHNTbmFwcGluZ0NvbnRyb2xzRWxlbWVudHNTZWxmRW5hYmxlZFRvZ2dsZSxcbiAgICAgICAgICAgICAgICBmZWF0dXJlRW5hYmxlZFRvZ2dsZTogdGhpcy52aXNpYmxlRWxlbWVudHNTbmFwcGluZ0NvbnRyb2xzRWxlbWVudHNGZWF0dXJlRW5hYmxlZFRvZ2dsZSxcbiAgICAgICAgICAgICAgICBsYXllckxpc3Q6IHRoaXMudmlzaWJsZUVsZW1lbnRzU25hcHBpbmdDb250cm9sc0VsZW1lbnRzTGF5ZXJMaXN0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVuZG9SZWRvTWVudTogdGhpcy52aXNpYmxlRWxlbWVudHNVbmRvUmVkb01lbnUsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgICAgICAgIHBhcmFtcy52aWV3ID0gdGhpcy52aWV3O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF2YWlsYWJsZUNyZWF0ZVRvb2xzKSB7XG4gICAgICAgICAgICBwYXJhbXMuYXZhaWxhYmxlQ3JlYXRlVG9vbHMgPSB0aGlzLmF2YWlsYWJsZUNyZWF0ZVRvb2xzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNyZWF0aW9uTW9kZSkge1xuICAgICAgICAgICAgcGFyYW1zLmNyZWF0aW9uTW9kZSA9IHRoaXMuY3JlYXRpb25Nb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHRDcmVhdGVPcHRpb25zKSB7XG4gICAgICAgICAgICBwYXJhbXMuZGVmYXVsdENyZWF0ZU9wdGlvbnMgPSB0aGlzLmRlZmF1bHRDcmVhdGVPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHRVcGRhdGVPcHRpb25zKSB7XG4gICAgICAgICAgICBwYXJhbXMuZGVmYXVsdFVwZGF0ZU9wdGlvbnMgPSB0aGlzLmRlZmF1bHRVcGRhdGVPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhYmVsT3B0aW9ucykge1xuICAgICAgICAgICAgcGFyYW1zLmxhYmVsT3B0aW9ucyA9IHRoaXMubGFiZWxPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxheW91dCkge1xuICAgICAgICAgICAgcGFyYW1zLmxheW91dCA9IHRoaXMubGF5b3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNuYXBwaW5nT3B0aW9ucykge1xuICAgICAgICAgICAgcGFyYW1zLnNuYXBwaW5nT3B0aW9ucyA9IHRoaXMuc25hcHBpbmdPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRvb2x0aXBPcHRpb25zKSB7XG4gICAgICAgICAgICBwYXJhbXMudG9vbHRpcE9wdGlvbnMgPSB0aGlzLnRvb2x0aXBPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxuICAgIF9zZXRWaWV3TW9kZWxQYXJhbXMoKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHt9O1xuICAgICAgICBpZiAodGhpcy5wb2ludFN5bWJvbCkge1xuICAgICAgICAgICAgcGFyYW1zLnBvaW50U3ltYm9sID0gdGhpcy5wb2ludFN5bWJvbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wb2x5bGluZVN5bWJvbCkge1xuICAgICAgICAgICAgcGFyYW1zLnBvbHlsaW5lU3ltYm9sID0gdGhpcy5wb2x5bGluZVN5bWJvbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wb2x5Z29uU3ltYm9sKSB7XG4gICAgICAgICAgICBwYXJhbXMucG9seWdvblN5bWJvbCA9IHRoaXMucG9seWdvblN5bWJvbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndpZGdldC52aWV3TW9kZWwuc2V0KHBhcmFtcyk7XG4gICAgfVxuICAgIF9wcm94eUV2ZW50cygpIHtcbiAgICAgICAgdGhpcy53aWRnZXQub24oXCJjcmVhdGVcIiwgKGUpID0+IHRoaXMuc2tldGNoQ3JlYXRlLmVtaXQoZSkpO1xuICAgICAgICB0aGlzLndpZGdldC5vbihcImRlbGV0ZVwiLCAoZSkgPT4gdGhpcy5za2V0Y2hEZWxldGUuZW1pdChlKSk7XG4gICAgICAgIHRoaXMud2lkZ2V0Lm9uKFwicmVkb1wiLCAoZSkgPT4gdGhpcy5za2V0Y2hSZWRvLmVtaXQoZSkpO1xuICAgICAgICB0aGlzLndpZGdldC5vbihcInVuZG9cIiwgKGUpID0+IHRoaXMuc2tldGNoVW5kby5lbWl0KGUpKTtcbiAgICAgICAgdGhpcy53aWRnZXQub24oXCJ1cGRhdGVcIiwgKGUpID0+IHRoaXMuc2tldGNoVXBkYXRlLmVtaXQoZSkpO1xuICAgIH1cbiAgICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG4gICAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICAgICAgXCJyZWZlcmVuY2VFbGVtZW50XCI6IFtcInJlZmVyZW5jZUVsZW1lbnRXYXRjaGVyXCJdLFxuICAgICAgICBcImF2YWlsYWJsZUNyZWF0ZVRvb2xzXCI6IFtcImF2YWlsYWJsZUNyZWF0ZVRvb2xzV2F0Y2hlclwiXSxcbiAgICAgICAgXCJjcmVhdGlvbk1vZGVcIjogW1wiY3JlYXRpb25Nb2RlV2F0Y2hlclwiXSxcbiAgICAgICAgXCJkZWZhdWx0Q3JlYXRlT3B0aW9uc1wiOiBbXCJkZWZhdWx0Q3JlYXRlT3B0aW9uc1dhdGNoZXJcIl0sXG4gICAgICAgIFwiZGVmYXVsdFVwZGF0ZU9wdGlvbnNcIjogW1wiZGVmYXVsdFVwZGF0ZU9wdGlvbnNXYXRjaGVyXCJdLFxuICAgICAgICBcImljb25cIjogW1wiaWNvbldhdGNoZXJcIl0sXG4gICAgICAgIFwibGFiZWxPcHRpb25zXCI6IFtcImxhYmVsT3B0aW9uc1dhdGNoZXJcIl0sXG4gICAgICAgIFwibGF5ZXJcIjogW1wibGF5ZXJXYXRjaGVyXCJdLFxuICAgICAgICBcImxheW91dFwiOiBbXCJsYXlvdXRXYXRjaGVyXCJdLFxuICAgICAgICBcInBvaW50U3ltYm9sXCI6IFtcInBvaW50U3ltYm9sV2F0Y2hlclwiXSxcbiAgICAgICAgXCJwb2x5bGluZVN5bWJvbFwiOiBbXCJwb2x5bGluZVN5bWJvbFdhdGNoZXJcIl0sXG4gICAgICAgIFwicG9seWdvblN5bWJvbFwiOiBbXCJwb2x5Z29uU3ltYm9sV2F0Y2hlclwiXSxcbiAgICAgICAgXCJzbmFwcGluZ09wdGlvbnNcIjogW1wic25hcHBpbmdPcHRpb25zV2F0Y2hlclwiXSxcbiAgICAgICAgXCJ0b29sdGlwT3B0aW9uc1wiOiBbXCJ0b29sdGlwT3B0aW9uc1dhdGNoZXJcIl0sXG4gICAgICAgIFwidmlzaWJsZUVsZW1lbnRzQ3JlYXRlVG9vbHNQb2ludFwiOiBbXCJ2aXNpYmxlRWxlbWVudHNDcmVhdGVUb29sc1BvaW50V2F0Y2hlclwiXSxcbiAgICAgICAgXCJ2aXNpYmxlRWxlbWVudHNDcmVhdGVUb29sc1BvbHlsaW5lXCI6IFtcInZpc2libGVFbGVtZW50c0NyZWF0ZVRvb2xzUG9seWxpbmVXYXRjaGVyXCJdLFxuICAgICAgICBcInZpc2libGVFbGVtZW50c0NyZWF0ZVRvb2xzUG9seWdvblwiOiBbXCJ2aXNpYmxlRWxlbWVudHNDcmVhdGVUb29sc1BvbHlnb25XYXRjaGVyXCJdLFxuICAgICAgICBcInZpc2libGVFbGVtZW50c0NyZWF0ZVRvb2xzUmVjdGFuZ2xlXCI6IFtcInZpc2libGVFbGVtZW50c0NyZWF0ZVRvb2xzUmVjdGFuZ2xlV2F0Y2hlclwiXSxcbiAgICAgICAgXCJ2aXNpYmxlRWxlbWVudHNDcmVhdGVUb29sc0NpcmNsZVwiOiBbXCJ2aXNpYmxlRWxlbWVudHNDcmVhdGVUb29sc0NpcmNsZVdhdGNoZXJcIl0sXG4gICAgICAgIFwidmlzaWJsZUVsZW1lbnRzRHVwbGljYXRlQnV0dG9uXCI6IFtcInZpc2libGVFbGVtZW50c0R1cGxpY2F0ZUJ1dHRvbldhdGNoZXJcIl0sXG4gICAgICAgIFwidmlzaWJsZUVsZW1lbnRzU2VsZWN0aW9uVG9vbHNSZWN0YW5nbGVcIjogW1widmlzaWJsZUVsZW1lbnRzU2VsZWN0aW9uVG9vbHNSZWN0YW5nbGVXYXRjaGVyXCJdLFxuICAgICAgICBcInZpc2libGVFbGVtZW50c1NlbGVjdGlvblRvb2xzTGFzc29cIjogW1widmlzaWJsZUVsZW1lbnRzU2VsZWN0aW9uVG9vbHNMYXNzb1dhdGNoZXJcIl0sXG4gICAgICAgIFwidmlzaWJsZUVsZW1lbnRzU2V0dGluZ3NNZW51XCI6IFtcInZpc2libGVFbGVtZW50c1NldHRpbmdzTWVudVdhdGNoZXJcIl0sXG4gICAgICAgIFwidmlzaWJsZUVsZW1lbnRzTGFiZWxzVG9nZ2xlXCI6IFtcInZpc2libGVFbGVtZW50c0xhYmVsc1RvZ2dsZVdhdGNoZXJcIl0sXG4gICAgICAgIFwidmlzaWJsZUVsZW1lbnRzVG9vbHRpcHNUb2dnbGVcIjogW1widmlzaWJsZUVsZW1lbnRzVG9vbHRpcHNUb2dnbGVXYXRjaGVyXCJdLFxuICAgICAgICBcInZpc2libGVFbGVtZW50c1NuYXBwaW5nQ29udHJvbHNcIjogW1widmlzaWJsZUVsZW1lbnRzU25hcHBpbmdDb250cm9sc1dhdGNoZXJcIl0sXG4gICAgICAgIFwidmlzaWJsZUVsZW1lbnRzU25hcHBpbmdDb250cm9sc0VsZW1lbnRzSGVhZGVyXCI6IFtcInZpc2libGVFbGVtZW50c1NuYXBwaW5nQ29udHJvbHNFbGVtZW50c0hlYWRlcldhdGNoZXJcIl0sXG4gICAgICAgIFwidmlzaWJsZUVsZW1lbnRzU25hcHBpbmdDb250cm9sc0VsZW1lbnRzRW5hYmxlZFRvZ2dsZVwiOiBbXCJ2aXNpYmxlRWxlbWVudHNTbmFwcGluZ0NvbnRyb2xzRWxlbWVudHNFbmFibGVkVG9nZ2xlV2F0Y2hlclwiXSxcbiAgICAgICAgXCJ2aXNpYmxlRWxlbWVudHNTbmFwcGluZ0NvbnRyb2xzRWxlbWVudHNTZWxmRW5hYmxlZFRvZ2dsZVwiOiBbXCJ2aXNpYmxlRWxlbWVudHNTbmFwcGluZ0NvbnRyb2xzRWxlbWVudHNTZWxmRW5hYmxlZFRvZ2dsZVdhdGNoZXJcIl0sXG4gICAgICAgIFwidmlzaWJsZUVsZW1lbnRzU25hcHBpbmdDb250cm9sc0VsZW1lbnRzRmVhdHVyZUVuYWJsZWRUb2dnbGVcIjogW1widmlzaWJsZUVsZW1lbnRzU25hcHBpbmdDb250cm9sc0VsZW1lbnRzRmVhdHVyZUVuYWJsZWRUb2dnbGVXYXRjaGVyXCJdLFxuICAgICAgICBcInZpc2libGVFbGVtZW50c1NuYXBwaW5nQ29udHJvbHNFbGVtZW50c0xheWVyTGlzdFwiOiBbXCJ2aXNpYmxlRWxlbWVudHNTbmFwcGluZ0NvbnRyb2xzRWxlbWVudHNMYXllckxpc3RXYXRjaGVyXCJdLFxuICAgICAgICBcInZpc2libGVFbGVtZW50c1VuZG9SZWRvTWVudVwiOiBbXCJ2aXNpYmxlRWxlbWVudHNVbmRvUmVkb01lbnVXYXRjaGVyXCJdLFxuICAgICAgICBcInBvc2l0aW9uXCI6IFtcInBvc2l0aW9uV2F0Y2hlclwiXSxcbiAgICAgICAgXCJ2aWV3XCI6IFtcInZpZXdXYXRjaGVyXCJdXG4gICAgfTsgfVxufTtcbkFyY2dpc1NrZXRjaC5zdHlsZSA9IHNrZXRjaENzcztcblxuZXhwb3J0IHsgQXJjZ2lzU2tldGNoIGFzIGFyY2dpc19za2V0Y2ggfTtcbiIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFc3JpLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIFNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4gKiB2NC4zMC4wLW5leHQuMzdcbiAqL1xuZnVuY3Rpb24gY2hlY2tGb3JFeHBhbmQoZWxlbWVudCkge1xuICAgIGNvbnN0IGV4cGFuZFJlZiA9IGVsZW1lbnQuZWwuY2xvc2VzdChcImFyY2dpcy1leHBhbmRcIikgPz8gZWxlbWVudC5leHBhbmRFbGVtO1xuICAgIGlmIChleHBhbmRSZWY/LndpZGdldCkge1xuICAgICAgICBlbGVtZW50LnZpZXcgPSBleHBhbmRSZWYudmlldztcbiAgICAgICAgZXhwYW5kUmVmLndpZGdldC5jb250ZW50ID0gZWxlbWVudC5jaGlsZEVsZW0gPz8gZWxlbWVudC5lbDtcbiAgICAgICAgLy8gVE9ETzogVXBkYXRlIHRvIGJlIGV4cGFuZEljb24gPSB3aWRnZXQuaWNvbiwgbm90IHJlYWR5IHlldCBpbiA0LjI3bmV4dFxuICAgICAgICBpZiAoIWV4cGFuZFJlZi5leHBhbmRJY29uKSB7XG4gICAgICAgICAgICBleHBhbmRSZWYud2lkZ2V0LmV4cGFuZEljb24gPSBlbGVtZW50LndpZGdldCA/IGVsZW1lbnQud2lkZ2V0Lmljb24gOiBlbGVtZW50Py5pY29uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZXhwYW5kUmVmKSB7XG4gICAgICAgIGNvbnN0IHdpZGdldEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBleHBhbmRSZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFyY2dpc0V4cGFuZFJlYWR5XCIsIHdpZGdldEhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgICAgIGVsZW1lbnQudmlldyA9IGV4cGFuZFJlZi52aWV3O1xuICAgICAgICAgICAgZXhwYW5kUmVmLndpZGdldC5jb250ZW50ID0gZWxlbWVudC5jaGlsZEVsZW0gPz8gZWxlbWVudC5lbDtcbiAgICAgICAgICAgIGlmICghZXhwYW5kUmVmLmV4cGFuZEljb24pIHtcbiAgICAgICAgICAgICAgICBleHBhbmRSZWYud2lkZ2V0LmV4cGFuZEljb24gPSBlbGVtZW50LndpZGdldCA/IGVsZW1lbnQud2lkZ2V0Lmljb24gOiBlbGVtZW50Py5pY29uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBleHBhbmRSZWYuYWRkRXZlbnRMaXN0ZW5lcihcImFyY2dpc0V4cGFuZFJlYWR5XCIsIHdpZGdldEhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy9cbi8vICBQdWJsaWMgTWV0aG9kc1xuLy9cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIGFkZEhhbmRsZXMoZWxlbWVudCwgaGFuZGxlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaGFuZGxlKSkge1xuICAgICAgICBlbGVtZW50Ll93YXRjaEhhbmRsZXMgPSBbLi4uZWxlbWVudC5fd2F0Y2hIYW5kbGVzLCAuLi5oYW5kbGVdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5fd2F0Y2hIYW5kbGVzLnB1c2goaGFuZGxlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja0ZvclZpZXcoZWxlbWVudCkge1xuICAgIGxldCBpc1VzaW5nUmVmZXJlbmNlRWxlbWVudCA9IGZhbHNlO1xuICAgIGlmICghY2hlY2tGb3JFeHBhbmQoZWxlbWVudCkpIHtcbiAgICAgICAgbGV0IHZpZXdSZWYgPSBlbGVtZW50LmVsLmNsb3Nlc3QoXCJhcmNnaXMtbWFwXCIpID8/IGVsZW1lbnQuZWwuY2xvc2VzdChcImFyY2dpcy1zY2VuZVwiKTtcbiAgICAgICAgaWYgKCF2aWV3UmVmICYmIHR5cGVvZiBlbGVtZW50LnJlZmVyZW5jZUVsZW1lbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZpZXdSZWYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnQucmVmZXJlbmNlRWxlbWVudCk7XG4gICAgICAgICAgICBpc1VzaW5nUmVmZXJlbmNlRWxlbWVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZpZXdSZWY/LnZpZXcpIHtcbiAgICAgICAgICAgIGVsZW1lbnQudmlldyA9IHZpZXdSZWYudmlldztcbiAgICAgICAgICAgIGNvbnN0IGVsID0gZWxlbWVudC5jaGlsZEVsZW0gPz8gZWxlbWVudC5lbDtcbiAgICAgICAgICAgIGlmICghaXNVc2luZ1JlZmVyZW5jZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnZpZXcudWkuYWRkKGVsLCBlbGVtZW50LnBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2aWV3UmVmKSB7XG4gICAgICAgICAgICB3YWl0Rm9yVmlld0hhbmRsZXIodmlld1JlZiwgZWxlbWVudCwgaXNVc2luZ1JlZmVyZW5jZUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gZWxlbWVudC5lbC5jbG9zZXN0KFwiYXJjZ2lzLW1hcFwiKSA/PyBlbGVtZW50LmVsLmNsb3Nlc3QoXCJhcmNnaXMtc2NlbmVcIik7XG4gICAgICAgIGlmICh2aWV3UmVmPy52aWV3KSB7XG4gICAgICAgICAgICBlbGVtZW50LnZpZXcgPSB2aWV3UmVmLnZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmlld1JlZikge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB2aWV3UmVmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhcmNnaXNWaWV3UmVhZHlDaGFuZ2VcIiwgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQudmlldyA9IHZpZXdSZWYudmlldztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2aWV3UmVmLmFkZEV2ZW50TGlzdGVuZXIoXCJhcmNnaXNWaWV3UmVhZHlDaGFuZ2VcIiwgaGFuZGxlciwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaXNOdWxsT3JFbXB0eVN0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSBcIlwiO1xufVxuZnVuY3Rpb24gaXNWYWxpZEludGVnZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAlIDEgPT09IDA7XG59XG5mdW5jdGlvbiBpc05vdFNhbWVDYW1lcmEoY2FtZXJhLCBjYW1lcmEyKSB7XG4gICAgcmV0dXJuIChjYW1lcmEyID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uICE9PSBjYW1lcmEyLnBvc2l0aW9uIHx8XG4gICAgICAgIGNhbWVyYS5oZWFkaW5nICE9PSBjYW1lcmEyLmhlYWRpbmcgfHxcbiAgICAgICAgY2FtZXJhLnRpbHQgIT09IGNhbWVyYTIudGlsdCk7XG59XG5mdW5jdGlvbiBpc05vdFNhbWVFbnZpcm9ubWVudChlbnZpcm9ubWVudCwgZW52aXJvbm1lbnQyKSB7XG4gICAgcmV0dXJuIChlbnZpcm9ubWVudDIgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICBlbnZpcm9ubWVudDIuYXRtb3NwaGVyZUVuYWJsZWQgIT09IGVudmlyb25tZW50LmF0bW9zcGhlcmVFbmFibGVkIHx8XG4gICAgICAgIGVudmlyb25tZW50Mi5saWdodGluZy5kYXRlICE9PSBlbnZpcm9ubWVudC5saWdodGluZy5kYXRlIHx8XG4gICAgICAgIGVudmlyb25tZW50Mi5saWdodGluZy5kaXJlY3RTaGFkb3dzRW5hYmxlZCAhPT1cbiAgICAgICAgICAgIGVudmlyb25tZW50LmxpZ2h0aW5nLmRpcmVjdFNoYWRvd3NFbmFibGVkIHx8XG4gICAgICAgIGVudmlyb25tZW50Mi5saWdodGluZy5jYW1lcmFUcmFja2luZ0VuYWJsZWQgIT09XG4gICAgICAgICAgICBlbnZpcm9ubWVudC5saWdodGluZy5jYW1lcmFUcmFja2luZ0VuYWJsZWQgfHxcbiAgICAgICAgZW52aXJvbm1lbnQyLmxpZ2h0aW5nLmRhdGUgIT09IGVudmlyb25tZW50LmxpZ2h0aW5nLmRhdGUgfHxcbiAgICAgICAgZW52aXJvbm1lbnQyLmxpZ2h0aW5nLmRpc3BsYXlVVENPZmZzZXQgIT09XG4gICAgICAgICAgICBlbnZpcm9ubWVudC5saWdodGluZy5kaXNwbGF5VVRDT2Zmc2V0KTtcbn1cbmZ1bmN0aW9uIGlzTm90U2FtZVZpZXdwb2ludCh2aWV3cG9pbnQsIHZpZXdwb2ludDIpIHtcbiAgICByZXR1cm4gKHZpZXdwb2ludDIgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICB2aWV3cG9pbnQudGFyZ2V0R2VvbWV0cnkgIT09IHZpZXdwb2ludDIudGFyZ2V0R2VvbWV0cnkgfHxcbiAgICAgICAgdmlld3BvaW50LnJvdGF0aW9uICE9PSB2aWV3cG9pbnQyLnJvdGF0aW9uIHx8XG4gICAgICAgIHZpZXdwb2ludC5zY2FsZSAhPT0gdmlld3BvaW50Mi5zY2FsZSk7XG59XG5hc3luYyBmdW5jdGlvbiB1cGRhdGVGb3JWaWV3KHZpZXdTdHIpIHtcbiAgICBjb25zdCB2aWV3UmVmID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih2aWV3U3RyKTtcbiAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgaWYgKHZpZXdSZWY/LnZpZXcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh2aWV3UmVmLnZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZpZXdSZWYpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmlld1JlZi5yZW1vdmVFdmVudExpc3RlbmVyKFwiYXJjZ2lzVmlld1JlYWR5Q2hhbmdlXCIsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHZpZXdSZWYudmlldyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmlld1JlZi5hZGRFdmVudExpc3RlbmVyKFwiYXJjZ2lzVmlld1JlYWR5Q2hhbmdlXCIsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gcmVmZXJlbmNlRWxlbWVudEhlbHBlcihlbGVtZW50LCByZWZFbGVtZW50KSB7XG4gICAgaWYgKHJlZkVsZW1lbnQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuO1xuICAgIGVsc2UgaWYgKHR5cGVvZiByZWZFbGVtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGVsZW1lbnQudmlldyA9IGF3YWl0IHVwZGF0ZUZvclZpZXcocmVmRWxlbWVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVsZW1lbnQud2lkZ2V0KSB7XG4gICAgICAgIGVsZW1lbnQudmlldyA9IHJlZkVsZW1lbnQudmlldztcbiAgICB9XG59XG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vL1xuLy8gIFByaXZhdGUgTWV0aG9kc1xuLy9cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIHdhaXRGb3JWaWV3SGFuZGxlcih2aWV3UmVmLCBlbGVtZW50LCBpc1VzaW5nUmVmZXJuY2VFbGVtZW50KSB7XG4gICAgY29uc3QgaGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgdmlld1JlZi5yZW1vdmVFdmVudExpc3RlbmVyKFwiYXJjZ2lzVmlld1JlYWR5Q2hhbmdlXCIsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgZWxlbWVudC52aWV3ID0gdmlld1JlZi52aWV3O1xuICAgICAgICBpZiAoIWlzVXNpbmdSZWZlcm5jZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQudmlldy51aS5hZGQoZWxlbWVudC5jaGlsZEVsZW0gPz8gZWxlbWVudC5lbCwgZWxlbWVudC5wb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZpZXdSZWYuYWRkRXZlbnRMaXN0ZW5lcihcImFyY2dpc1ZpZXdSZWFkeUNoYW5nZVwiLCBoYW5kbGVyLCBmYWxzZSk7XG59XG5cbmV4cG9ydCB7IGFkZEhhbmRsZXMgYXMgYSwgaXNOb3RTYW1lVmlld3BvaW50IGFzIGIsIGNoZWNrRm9yVmlldyBhcyBjLCBjaGVja0ZvckV4cGFuZCBhcyBkLCBpc05vdFNhbWVDYW1lcmEgYXMgZSwgaXNOb3RTYW1lRW52aXJvbm1lbnQgYXMgZiwgaXNWYWxpZEludGVnZXIgYXMgZywgaXNOdWxsT3JFbXB0eVN0cmluZyBhcyBpLCByZWZlcmVuY2VFbGVtZW50SGVscGVyIGFzIHIgfTtcbiIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFc3JpLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIFNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4zMC9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4gKiB2NC4zMC4wLW5leHQuMzdcbiAqL1xuZnVuY3Rpb24gb25EaXNjb25uZWN0ZWRIZWxwZXIoZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50LmNoaWxkRWxlbSkge1xuICAgICAgICBpZiAoIWVsZW1lbnQuZWwuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnZpZXcpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnZpZXcudWkucmVtb3ZlKGVsZW1lbnQuY2hpbGRFbGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVsZW1lbnQud2lkZ2V0Py52aWV3KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC53aWRnZXQudmlldy51aS5yZW1vdmUoZWxlbWVudC5jaGlsZEVsZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuX3dhdGNoSGFuZGxlcykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuX3dhdGNoSGFuZGxlcy5mb3JFYWNoKChoYW5kbGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC5fd2F0Y2hIYW5kbGVzID0gW107XG4gICAgICAgICAgICBlbGVtZW50LndpZGdldD8uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICghZWxlbWVudC5lbC5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC52aWV3LnVpLnJlbW92ZShlbGVtZW50LmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZWxlbWVudC53aWRnZXQ/LnZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC53aWRnZXQudmlldy51aS5yZW1vdmUoZWxlbWVudC5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Ll93YXRjaEhhbmRsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5fd2F0Y2hIYW5kbGVzLmZvckVhY2goKGhhbmRsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxlbWVudC5fd2F0Y2hIYW5kbGVzID0gW107XG4gICAgICAgICAgICAgICAgZWxlbWVudC53aWRnZXQ/LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMCk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBvbkRpc2Nvbm5lY3RlZEhlbHBlciBhcyBvIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=